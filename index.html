<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cerminan Guts</title>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    * {
      font-family: 'Source Sans Pro', sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-image: url('https://i.imgur.com/Pc6bzRO.jpeg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      min-height: 100vh;
      color: #000;
      padding: 40px 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    .container {
      max-width: 700px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.45);
      backdrop-filter: blur(0.6px);
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      animation: fadeUp 1s ease-out forwards;
      opacity: 0;
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      font-size: 36px;
      font-weight: 700;
      text-align: center;
      color: white;
      margin-bottom: 20px;
    }

    p {
      font-size: 16px;
      text-align: center;
      margin-bottom: 20px;
    }

    textarea {
      width: 100%;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #ccc;
      resize: vertical;
      min-height: 100px;
      font-size: 15px;
    }

    .button-group {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    button {
      padding: 10px 18px;
      background-color: #1e90ff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.25s ease, background-color 0.25s ease;
    }

    button:hover {
      background-color: #187bcd;
      transform: scale(1.05);
    }

    button:active {
      transform: scale(0.97);
    }

    .top-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .riwayat {
      margin-top: 30px;
      background-color: rgba(255,255,255,0.3);
      border-radius: 10px;
      padding: 15px;
    }

    .riwayat-entry {
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Cerminan Guts</h1>

    <div class="top-buttons">
      <a href="tentang.html"><button>Tentang</button></a>
      <button onclick="toggleMusic()">ðŸŽµ Musik</button>
    </div>

    <p>
      Selamat datang di <strong>Cerminan Guts</strong>. Jawablah pertanyaan di bawah ini dengan jujur dan tanpa pretensi.<br>
      <em><a href="#" onclick="location.reload()" style="color:#1e90ff;text-decoration:underline;">Refresh</a></em> halaman untuk pertanyaan baru.
      <br><em>"Jawablah tanpa harapan untuk disukai siapa pun."</em>
    </p>

    <h2 id="pertanyaan" style="text-align:center; margin: 20px 0;"></h2>

    <textarea id="jawaban" placeholder="Tulis jawabanmu di sini..."></textarea>

    <div class="button-group">
      <button onclick="simpanRefleksi()">Simpan Refleksi</button>
      <button onclick="tampilkanRiwayat()">Cek Riwayat</button>
    </div>

    <div id="riwayat" class="riwayat" style="display: none;"></div>
  </div>

  <!-- AUDIO -->
  <audio id="backgroundMusic" loop>
    <source src="clairdelune.mp3" type="audio/mp3">
    Browser tidak mendukung audio.
  </audio>

  <script>
    const pertanyaanList = [
      "Apa yang membuatmu bangga hari ini?",
      "Apakah kamu berbohong minggu ini?",
      "Apa yang sedang kamu hindari tetapi tahu perlu dilakukan?",
      "Apa keputusan sulit yang kamu buat minggu ini?",
      "Kapan terakhir kali kamu merasa damai?",
      "Apa hal kecil yang kamu syukuri hari ini?",
      "Siapa yang kamu sakiti secara tidak langsung baru-baru ini?",
      "Apa yang kamu sembunyikan dari orang terdekatmu?",
      "Apakah kamu menjalani nilai yang kamu yakini?",
      "Kapan terakhir kali kamu berani berkata jujur sepenuhnya?",
      // ... tambahkan hingga 100 pertanyaan
    ];

    const pertanyaanElem = document.getElementById("pertanyaan");
    const jawabanElem = document.getElementById("jawaban");
    const riwayatElem = document.getElementById("riwayat");

    const pertanyaanTerpilih = pertanyaanList[Math.floor(Math.random() * pertanyaanList.length)];
    pertanyaanElem.textContent = pertanyaanTerpilih;

    function simpanRefleksi() {
      const jawaban = jawabanElem.value.trim();
      if (!jawaban) {
        alert("Isi dulu jawaban refleksimu sebelum menyimpan.");
        return;
      }

      const tanggal = new Date().toLocaleString('id-ID', {
        day: '2-digit', month: 'short', year: 'numeric',
        hour: '2-digit', minute: '2-digit'
      });

      const data = JSON.parse(localStorage.getItem("refleksiGuts") || "[]");
      data.push({ pertanyaan: pertanyaanTerpilih, jawaban, tanggal });
      localStorage.setItem("refleksiGuts", JSON.stringify(data));

      alert("Refleksi disimpan!");
      jawabanElem.value = "";
    }

    function tampilkanRiwayat() {
      const data = JSON.parse(localStorage.getItem("refleksiGuts") || "[]").reverse();
      if (data.length === 0) {
        riwayatElem.innerHTML = "<p style='text-align:center;'>Belum ada refleksi disimpan.</p>";
      } else {
        riwayatElem.innerHTML = data.map(entry => `
          <div class="riwayat-entry">
            <strong>${entry.tanggal}</strong><br>
            <em>${entry.pertanyaan}</em><br>
            <p>${entry.jawaban}</p>
          </div>
        `).join("");
      }
      riwayatElem.style.display = "block";
    }

    const audio = document.getElementById("backgroundMusic");
    let isPlaying = false;

    function toggleMusic() {
      if (isPlaying) {
        audio.pause();
      } else {
        audio.play();
      }
      isPlaying = !isPlaying;
    }
  </script>
</body>
</html>
